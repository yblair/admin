var e=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,n=(s,a,r)=>a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[a]=r;import{j as i,E as t}from"./index-Bkp3p5kS.js";import{r as o}from"./vendor-DWDxyCYt.js";import{u as d,f as _,g as m,a as u}from"./table-HQHnan0z.js";import{c as h}from"./utils-BeLtu-UY.js";import{g as j,h as x,i as p,j as N}from"./icons-DZB0zD_Z.js";import"./router-DQlRH_2e.js";const v="_tableContainer_1q47r_1",b="_tableContainerHeader_1q47r_25",g="_tableContainerHeaderLeft_1q47r_39",C="_table_1q47r_1",y="_tableWrapper_1q47r_65",f="_tableHeader_1q47r_81",w="_tableBody_1q47r_89",k="_tableRow_1q47r_117",S="_tableTitle_1q47r_135",q="_sortArrow_1q47r_181",D="_email_1q47r_195",E="_customer_1q47r_203",I="_amount_1q47r_213",T="_mobileCards_1q47r_223",O="_mobileCard_1q47r_223",P="_mobileCardHeader_1q47r_325",R="_mobileCardCustomer_1q47r_341",A="_mobileCardStatus_1q47r_349",K="_mobileCardDetails_1q47r_357",L="_mobileCardRow_1q47r_369",H="_mobileCardLabel_1q47r_383",F="_mobileCardValue_1q47r_393",M="_mobileCardAmount_1q47r_401",$="_mobileCardEmail_1q47r_413",V="_container_15dt5_1",B="_srOnly_15dt5_20",Y="_approved_15dt5_30",G="_pending_15dt5_35",J="_rejected_15dt5_40",U="_statusText_15dt5_47",W="_activeStatus_15dt5_50",z="Approved",Q="Pending",X="Rejected",Z=e=>h(V,{[Y]:e===z,[G]:e===Q,[J]:e===X}),ee=({status:e,isDrawer:s})=>i.jsxs("div",{className:Z(e),children:[e===z&&i.jsx(j,{"aria-hidden":"true"}),e===Q&&i.jsx(x,{"aria-hidden":"true"}),e===X&&i.jsx(p,{"aria-hidden":"true"}),s?i.jsx("p",{"aria-hidden":"true",className:W,children:e}):i.jsx("p",{"aria-hidden":"true",className:U,children:e}),i.jsxs("div",{className:B,children:["Status: ",e]})]}),se="_overlay_6h9ip_1",ae="_drawer_6h9ip_19",re="_closeButton_6h9ip_45",le="_closeButtonIcon_6h9ip_93",ce="_detailsContent_6h9ip_105",ne="_productImage_6h9ip_121",ie="_title_6h9ip_135",te="_subtitle_6h9ip_149",oe="_email_6h9ip_163",de="_details_6h9ip_105",_e="_detailRow_6h9ip_189",me="_detailLabel_6h9ip_207",ue="_detailValue_6h9ip_217",he="_actions_6h9ip_229",je="_button_1acn8_1",xe="_reject_1acn8_33",pe="_cancel_1acn8_45",Ne="_accept_1acn8_57",ve="_disabled_1acn8_71",be=({onClick:e,type:s,children:a})=>{const r=h(je,{[Ne]:"accept"===s||"approve"===s,[xe]:"reject"===s,[pe]:"cancel"===s,[ve]:"disabled"===s});return i.jsx("button",{onClick:e,className:r,disabled:"disabled"===s,children:a})},ge="_overlay_1r1ee_1",Ce="_modal_1r1ee_21",ye="_title_1r1ee_41",fe="_description_1r1ee_55",we="_productInfo_1r1ee_67",ke="_productImage_1r1ee_81",Se="_productDetails_1r1ee_95",qe="_productName_1r1ee_105",De="_productSku_1r1ee_117",Ee="_divider_1r1ee_129",Ie="_actions_1r1ee_141",Te=({isOpen:e,onClose:s,onConfirm:a,transaction:r,actionType:l})=>{const c=o.useRef(null);if(o.useEffect(()=>{var s;e&&(null==(s=c.current)||s.focus())},[e]),!e)return null;const n=`Are you sure you want to ${l} this order?`,t=`You are about to ${l} an order. This action cannot be undone.`,d=`YES, ${l.toUpperCase()}`;return i.jsx("div",{className:ge,onClick:s,children:i.jsxs("div",{className:Ce,onClick:e=>e.stopPropagation(),ref:c,tabIndex:0,onKeyDown:e=>{"Escape"===e.key&&(e.stopPropagation(),s())},children:[i.jsx("h2",{className:ye,children:n}),i.jsx("p",{className:fe,children:t}),i.jsxs("div",{className:we,children:[i.jsx("img",{src:"/product.jpg",alt:r.product,className:ke}),i.jsxs("div",{className:Se,children:[i.jsx("span",{className:qe,children:r.product}),i.jsx("span",{className:De,children:r.customer})]})]}),i.jsx("hr",{className:Ee}),i.jsxs("div",{className:Ie,children:[i.jsx(be,{type:"cancel",onClick:s,children:"CANCEL"}),i.jsx(be,{type:l,onClick:a,children:d})]})]})})},Oe=({isOpen:e,onClose:s,transaction:a})=>{const[r,l]=o.useState(!1),[c,n]=o.useState(null),t=o.useRef(null);if(o.useEffect(()=>{var s;e&&(null==(s=t.current)||s.focus())},[e]),!e||!a)return null;const d=e=>{n(e),l(!0)};return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:se,onClick:s,children:i.jsxs("div",{className:ae,onClick:e=>e.stopPropagation(),onKeyDown:e=>{"Escape"===e.key&&(l(!1),s())},ref:t,tabIndex:0,children:[i.jsx("button",{className:re,onClick:s,"aria-label":"Close product detail screen",children:i.jsx(p,{className:le})}),i.jsx("img",{src:"/product.jpg",alt:a.product,className:ne}),i.jsxs("div",{className:ce,children:[i.jsx("h2",{className:ie,children:a.product}),i.jsx("p",{className:te,children:a.customer}),i.jsx("p",{className:oe,children:a.email})]}),i.jsxs("div",{className:de,children:[i.jsxs("div",{className:_e,children:[i.jsx("span",{className:me,children:"Status:"}),i.jsx(ee,{status:a.status,isDrawer:!0})]}),i.jsxs("div",{className:_e,children:[i.jsx("span",{className:me,children:"Date:"}),i.jsx("span",{className:ue,children:new Date(a.date).toLocaleString()})]}),i.jsxs("div",{className:_e,children:[i.jsx("span",{className:me,children:"Amount:"}),i.jsxs("span",{className:ue,children:["$",a.amount.toFixed(2)]})]}),i.jsxs("div",{className:_e,children:[i.jsx("span",{className:me,children:"Payment method:"}),i.jsx("span",{className:ue,children:a.paymentMethod})]}),i.jsxs("div",{className:_e,children:[i.jsx("span",{className:me,children:"Transaction ID:"}),i.jsxs("span",{className:ue,children:["#",a.id]})]})]}),a.status===Q&&i.jsxs("div",{className:he,children:[i.jsx(be,{type:"reject",onClick:()=>d("reject"),children:"REJECT"}),i.jsx(be,{type:"accept",onClick:()=>d("approve"),children:"APPROVE"})]})]})}),c&&i.jsx(Te,{isOpen:r,onClose:()=>{l(!1),n(null)},onConfirm:()=>{l(!1),s()},transaction:a,actionType:c})]})},Pe="_searchContainer_6vsol_1",Re="_searchIcon_6vsol_39",Ae="_icon_6vsol_55",Ke="_searchInput_6vsol_75",Le="_clearButton_6vsol_107",He="_clearIcon_6vsol_155",Fe=({value:e,onChange:s,placeholder:a="Search by customer..."})=>i.jsxs("div",{className:Pe,children:[i.jsx("div",{className:Re,children:i.jsx(N,{className:Ae})}),i.jsx("input",{type:"text",value:e,onChange:e=>s(e.target.value),placeholder:a,className:Ke,"aria-label":"Search by customers"}),e&&i.jsx("button",{onClick:()=>s(""),className:Le,"aria-label":"Clear search",children:i.jsx(p,{className:He})})]}),Me=({text:e,maxLength:s=28})=>e.length<s?i.jsx("div",{children:e}):i.jsxs("div",{title:e,children:[e.slice(0,s),"..."]}),$e="_skeletonRow_1omv1_1",Ve="_skeletonContainer_1omv1_13",Be="_skeletonCell_1omv1_31",Ye=()=>i.jsx("td",{className:$e,colSpan:5,children:i.jsx("div",{className:Ve,children:i.jsx("div",{className:Be})})}),Ge="_mobileCardSkeleton_1is1r_1",Je="_mobileCardHeader_1is1r_25",Ue="_mobileCardCustomer_1is1r_41",We="_skeletonLine_1is1r_55",ze="_skeletonName_1is1r_69",Qe="_skeletonEmail_1is1r_79",Xe="_skeletonStatus_1is1r_89",Ze="_mobileCardDetails_1is1r_109",es="_mobileCardRow_1is1r_121",ss="_skeletonLabel_1is1r_135",as="_skeletonValue_1is1r_145",rs="_skeletonAmount_1is1r_155",ls=()=>i.jsxs("div",{className:Ge,children:[i.jsxs("div",{className:Je,children:[i.jsx("div",{className:Ue,children:i.jsx("div",{className:We+" "+ze})}),i.jsx("div",{className:Xe})]}),i.jsx("div",{className:We+" "+Qe}),i.jsxs("div",{className:Ze,children:[i.jsxs("div",{className:es,children:[i.jsx("div",{className:We+" "+ss}),i.jsx("div",{className:We+" "+as})]}),i.jsxs("div",{className:es,children:[i.jsx("div",{className:We+" "+ss}),i.jsx("div",{className:We+" "+as})]}),i.jsxs("div",{className:es,children:[i.jsx("div",{className:We+" "+ss}),i.jsx("div",{className:We+" "+rs})]})]})]}),cs=({column:e,children:s})=>i.jsxs("div",{children:[s,i.jsx("span",{className:q,children:"asc"===e.getIsSorted()?"▲":"desc"===e.getIsSorted()?"▼":""})]}),ns=[{header:({column:e})=>i.jsx(cs,{column:e,children:"Customer"}),accessorKey:"customer",cell:({row:e})=>i.jsxs("div",{children:[i.jsx("div",{className:E,children:e.original.customer}),i.jsx("div",{className:D,children:i.jsx(Me,{text:e.original.email})})]})},{header:({column:e})=>i.jsx(cs,{column:e,children:"Date"}),accessorKey:"date"},{header:({column:e})=>i.jsx(cs,{column:e,children:"Product"}),accessorKey:"product"},{header:({column:e})=>i.jsx(cs,{column:e,children:"Status"}),accessorKey:"status",cell:({row:e})=>i.jsx(ee,{status:e.original.status,isDrawer:!1})},{header:({column:e})=>i.jsx(cs,{column:e,children:"Amount"}),accessorKey:"amount",cell:({row:e})=>i.jsx("div",{className:I,children:e.original.amount})}],is=({data:e})=>{const[h]=o.useState(()=>[...ns]),[j,x]=o.useState(!1),[p,N]=o.useState(null),[q,D]=o.useState([{id:"date",desc:!1}]),[I,V]=o.useState(null),[B,Y]=o.useState(""),[G,J]=o.useState(!0);o.useEffect(()=>{const e=setTimeout(()=>J(!1),150);return()=>clearTimeout(e)},[]);const U=o.useMemo(()=>B.trim()?e.filter(e=>e.customer.toLowerCase().includes(B.toLowerCase())):e,[e,B]),W=d({data:U,columns:h,state:{sorting:q},getCoreRowModel:u(),getSortedRowModel:m(),onSortingChange:D,enableSorting:!0}),z=p?(Q=((e,s)=>{for(var a in s||(s={}))l.call(s,a)&&n(e,a,s[a]);if(r)for(var a of r(s))c.call(s,a)&&n(e,a,s[a]);return e})({},p),X={amount:parseFloat(p.amount.replace("$",""))},s(Q,a(X))):null;var Q,X;const Z=e=>{V(e)};return i.jsxs("div",{className:v,children:[i.jsxs("div",{className:b,children:[i.jsxs("div",{className:g,children:[i.jsx("h2",{children:"Transactions"}),i.jsx("p",{children:"Recent transactions from your store."})]}),i.jsx(Fe,{value:B,onChange:Y})]}),0===U.length&&""!==B.trim()?i.jsx(t,{title:"No customers found",description:`No customers match "${B}". Try adjusting your search terms.`}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:y,children:i.jsxs("table",{className:C,children:[i.jsx("thead",{className:f,children:W.getHeaderGroups().map(e=>i.jsx("tr",{children:e.headers.map(e=>i.jsx("th",{colSpan:e.colSpan,onClick:e.column.getToggleSortingHandler(),className:S,tabIndex:0,onKeyDown:s=>{if("Enter"===s.key){const a=e.column.getToggleSortingHandler();a&&a(s)}},children:e.isPlaceholder?null:_(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),i.jsx("tbody",{className:w,tabIndex:0,children:W.getRowModel().rows.map(e=>i.jsx("tr",{tabIndex:0,onFocus:e=>Z(e.currentTarget),onKeyDown:s=>{"Enter"===s.key&&(N(e.original),x(!0))},onClick:()=>{N(e.original),x(!0)},children:G?i.jsx(Ye,{}):e.getVisibleCells().map(e=>i.jsx("td",{className:k,children:_(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),i.jsx("div",{className:T,children:W.getRowModel().rows.map(e=>i.jsx("div",{className:O,tabIndex:0,onFocus:e=>Z(e.currentTarget),onKeyDown:s=>{"Enter"===s.key&&(N(e.original),x(!0))},onClick:()=>{N(e.original),x(!0)},children:G?i.jsx(ls,{}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:P,children:[i.jsx("div",{className:R,children:i.jsx("div",{className:E,children:e.original.customer})}),i.jsx("div",{className:A,children:i.jsx(ee,{status:e.original.status,isDrawer:!1})})]}),i.jsx("div",{className:$,children:i.jsx(Me,{text:e.original.email})}),i.jsxs("div",{className:K,children:[i.jsxs("div",{className:L,children:[i.jsx("span",{className:H,children:"Date"}),i.jsx("span",{className:F,children:e.original.date})]}),i.jsxs("div",{className:L,children:[i.jsx("span",{className:H,children:"Product"}),i.jsx("span",{className:F,children:e.original.product})]}),i.jsxs("div",{className:L,children:[i.jsx("span",{className:H,children:"Amount"}),i.jsx("span",{className:M,children:e.original.amount})]})]})]})},e.id))})]}),i.jsx(Oe,{isOpen:j,onClose:()=>{x(!1),setTimeout(()=>{I&&I.focus()},100)},transaction:z})]})};export{is as Table};
